## キーリピート改善パッチ

### はじめに
ND80Z3にて、独立化キットを使ってて、少し不満がありました。  
具体的には以下の2つです。  

1. あるキーを押しっぱなしにするとそのキーがリピートとなり連続入力できるが...
    * キーリピートの開始が遅い
    * キーリピートが遅い

2. 速いペースでキー入力すると、一部キーを取りこぼす事がある

ということで、上記 1 については簡単なパッチをあてる事で改善出来ましたので、
ご紹介。

オリジナル：
```
       :
53E7 CDA952          CALL    KEYIN
53EA C27354          JP      NZ,ATRPT
53ED 3E14            LD      A,14H
53EF 327BF0          LD      (ATCK),A
53F2 DBD5     INDP3: IN      A,(0D5H)
       :
547D 327BF0          LD      (ATCK),A
5480 C2CA53          JP      NZ,INDP2
5483 3E04            LD      A,4
5485 327BF0          LD      (ATCK),A
5488 7B              LD      A,E
       :
```

改変後：
```
       :
53E7 CDA952          CALL    KEYIN
53EA C27354          JP      NZ,ATRPT
53ED 3E14            LD      A,0CH	;変更点A
53EF 327BF0          LD      (ATCK),A
53F2 DBD5     INDP3: IN      A,(0D5H)
       :
547D 327BF0          LD      (ATCK),A
5480 C2CA53          JP      NZ,INDP2
5483 3E04            LD      A,1	;変更点B
5485 327BF0          LD      (ATCK),A
5488 7B              LD      A,E
       :
```

上記の通り、 LD A,n の n の値を書き換えるだけです。(計2バイト)  
変更点A, B共に、27msのウェイトを回す回数を指定しています。
27msのウェイトを呼び出している個所があるのですが、それをどれだけ回すか
(つまり、何秒ウェイトするか)を指定しています。  
変更点Aは、キーを押してから、キーリピートに突入するまでの時間。  
オリジナルでは 14H(=20)、つまり 540ms くらいが設定されています。
これを、自分の好みですが 0CH(=12) とし、324ms くらいにしました。  

変更点Bは、キーリピート中のリピート間隔です。  
オリジナルでは 4 が設定されており、108ms, つまり 1 秒間に 10 回
くらいのキーリピートです。
このキーリピートは、カーソルキーの移動でも適用されてますから、
自分的にはちょっと遅すぎて、キーを連打したくなるレベルでした。
なので、これを 1 に設定し、27ms, つまり 1 秒間に 30 回くらいの
ペースに速めてます。ここは人によっては 2 の方が良いかも知れません。
自分は全体的に速めが好みです。  

ということで、最終的には 27C512 の 2 箇所を ROM ライター等で書き換えます。

D3EEH=0CH, D484H = 01H

以上。
